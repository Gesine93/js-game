<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function getComputerChoice() {
            let number = Math.random();
            if (number <= 0.33) {
                return "scissors";
            } else if (number <= 0.66) {
                return "rock";
            } else {
                return "paper";
            }
        }
    
        function getHumanChoice() {
            let validChoices = ['rock', 'paper', 'scissors'];
            let valid = false;
            while (!valid) {
                let choice = prompt('Rock, paper or scissors? ').toLowerCase();
                if (validChoices.includes(choice)) {
                    valid = true;
                    return choice;
                }
            }
        }
    
        function playRound(humanSelection, computerSelection, humanScore, computerScore) {
            if (humanSelection === computerSelection) {
                let result = `Tie! You both chose ${humanSelection}!`;
                return { humanScore, computerScore, result };
            } else if ((humanSelection === "rock" && computerSelection === "scissors") || 
                       (humanSelection === "paper" && computerSelection === "rock") ||
                       (humanSelection === "scissors" && computerSelection === "paper")) {
                let result = `You win! ${humanSelection} beats ${computerSelection}!`;
                humanScore += 1;
                return { humanScore, computerScore, result };
            } else {
                let result = `You lose! ${computerSelection} beats ${humanSelection}!`;
                computerScore += 1;
                return { humanScore, computerScore, result };
            }
        }
    
        function playGame() {
            let round = 1;
            let humanScore = 0;
            let computerScore = 0;
            while (round <= 5) {
                let humanSelection = getHumanChoice();
                let computerSelection = getComputerChoice();
                let roundResult = playRound(humanSelection, computerSelection, humanScore, computerScore);
                humanScore = roundResult.humanScore;
                computerScore = roundResult.computerScore;
                round++;
            }
            if (humanScore > computerScore) {
                return 'You won the game!';
            } else if (humanScore < computerScore) {
                return 'You lost the game!';
            } else {
                return 'The game is a tie!';
            }
        }
    
        console.log(playGame());
    </script>
    
</head>
<body>
    
</body>
</html>